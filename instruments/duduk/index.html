<!DOCTYPE html>

<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
<meta http-equiv="Pragma" content="no-cache"/>
<meta http-equiv="Expires" content="0"/>

<html lang="">
  <head>
    <meta charset="utf-8">
    <title>Yapsmi-Duduk</title>
    <link rel="stylesheet" href="./css/duduk.css?version=1.02" />
    <link rel="icon" type="image/x-icon" href="./css/images/favicon.ico">
    <script src=https://code.jquery.com/jquery-3.1.1.min.js></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.3.0/math.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  </head>
  <body>
    <header>
      <div id="tools">
      </div> 

      <div id="model" class = "popup" style="display:none"><div class="close_button" onclick="$(this).parent().hide()">✕</div>
        <div id="model_content"></div>
      </div>  

      <div id="help" class = "popup" style="display:none"><div class="close_button" onclick="$(this).parent().hide()">✕</div>
        <div id="help_content"></div>
      </div>  
    </header>
    <main>

      <div  id="wrapper">
      
        <div class = "plugin" id="duduk">
          <div id="duduk_menu" class="pop">
            <div class="plugin_menu" onclick="$('#duduk_menu').hide(); parameters_to_range()">Parameters range</div>
            <div class="plugin_menu" onclick="$('#duduk_menu').hide(); smoothening()">Smoothening</div>
            <!-- <div class="plugin_menu">Test</div>
            <div class="plugin_menu">Test</div> -->
          </div>

          <div id = "duduk_control">
              <div onclick="click_hole(this)" class="duduk_hole" id = "Gm1"></div>
              <div onclick="click_hole(this)" class="duduk_hole" id = "A"></div>
              <div onclick="click_hole(this)" class="duduk_hole" id = "B"></div>
              <div onclick="click_hole(this)" class="duduk_hole" id = "C"></div>
              <div onclick="click_hole(this)" class="duduk_hole" id = "D"></div>
              <div onclick="click_hole(this)" class="duduk_hole" id = "E"></div>
              <div onclick="click_hole(this)" class="duduk_hole" id = "F"></div>
              <div onclick="click_hole(this)" class="duduk_hole" id = "G"></div>
              <div onclick="click_hole(this)" class="duduk_hole" id = "Ap1"></div>
              <div onclick="click_hole(this)" class="duduk_hole" id = "Bp1"></div>
          </div>

          <div class="instrument_controls">

            <button id="previous_controls" onclick="change_controls(-1, 'duduk')"></button>

            <button id="next_controls" onclick="change_controls(+1, 'duduk')"></button>

            <div class ="instrument_controls_window">

                <div class="controls_title">Controls</div>

                <div class = "control_knob">
                    <div class="value_container">\(P_m^\vphantom{0}\)=<div class="knob_value" id="pm_value">100</div></div>
                    <div class="knob" id="pm"></div>

                </div>

                <div class = "control_knob">
                    <div class="value_container">\(F_r^\vphantom{0}\)=<div class="knob_value" id="Fr_value">100</div></div>
                    <div class="knob" id="Fr"></div>
                </div>
<!-- 
                <div class = "control_knob">
                  <div class="value_container">\(\mu_\ell^\vphantom{0}\)=<div class="knob_value" id="mur_value">100</div></div>
                  <div class="knob" id="mur"></div>
                </div> -->
                <div class = "control_knob">
                  <div class="value_container">\(K_r^\vphantom{0}\)=<div class="knob_value" id="Kr_value">100</div></div>
                  <div class="knob" id="Kr"></div>
                </div>
                <div class = "control_knob">
                  <div class="value_container">\(Q_r^\vphantom{0}\)=<div class="knob_value" id="Qr_value">100</div></div>
                  <div class="knob" id="Qr"></div>
                </div>
            </div>
            <div class ="instrument_controls_window" style="display:none">
              <div class = "control_knob">
                <div class="value_container">\(H^\vphantom{0}\)=<div class="knob_value" id="H_value">100</div></div>
                <div class="knob" id="H"></div>
              </div>
              <div class = "control_knob">
                <div class="value_container">\(C_d^\vphantom{0}\)=<div class="knob_value" id="Cd_value">100</div></div>
                <div class="knob" id="Cd"></div>
              </div>

            </div>
          </div>
        </div>

      </div>

    </main>


    <footer></footer>
  </body>

  <script src="../../js/knobs.js?version=1"></script>

  <script src="../../js/tools.js?version=1.02"></script>

  <script src="../../js/plugins.js?version=1"> 
  </script>

  <script type="module" src="js/init.js?version=1.02"></script>
  <script src="./js/duduk-ui.js?version=1.02"></script>

  <script> 
    $(function(){
      $("#model_content").load("model.html"); 
      $("#help_content").load("help.html"); 
    });
    </script> 


  <script> 
    
    $(function(){
      $("#tools").load("../../templates/tools.html?version=1.02", init_menu); 
    });
    

    document.addEventListener('DOMContentLoaded', function() {

      inst.knobs = init_knobs("duduk", "large", "Vintage");

    }, false);

  </script> 
  <!-- <script>window.addEventListener('load', async function () {
     //init_plugins()
     await delay(1000)
     load_plugin('effects','radiate-v1.0');
   })</script> -->
</html>
